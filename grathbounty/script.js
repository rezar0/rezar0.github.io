let bounties = [
    {
      "title": "The Stone Hydra",
      "description": "Place 3 castles simultaneously complete the castles, keep them alive + win",
      "claimer": "smarttguyy_",
      "prize": "$20",
      "claim_date": "08-24-2024",
      "notes": ""
    },
    {
      "title": "Long Live The Warrior King",
      "description": "Get 5 kills with your starting scoutn, keep it alive + win",
      "claimer": "kongen_42",
      "prize": "$20",
      "claim_date": "06-20-2023",
      "notes": "steve is the best"
    },
    {
      "title": "Earthquake Champion",
      "description": "Win a game with 0 buildings alive at time of victory",
      "claimer": "fi7li",
      "prize": "$20",
      "claim_date": "05-10-2020",
      "notes": "no notes, 10/10"
    },
    {
      "title": "Jam Your BBC In Their Base",
      "description": "Win using only vils and BBC (must make at least 10 BBC), no burgundians",
      "claimer": "Falrus",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "A Wooden Envonomy",
      "description": "Win without gathering any resource but wood after reaching fedual age",
      "claimer": "chpstkx",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "You Can Run But You Can't Hide",
      "description": "Win without walls or garrisoning any units",
      "claimer": "ens0099",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Militaristic Society2: Electric Boogaloo",
      "description": "Win without any villagers alive at time of vicotry (No burgundians)",
      "claimer": "JimmyReinor",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Militaristic Society",
      "description": "Win without any villagers alive at time of victory",
      "claimer": "JimmyReinor",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Old Man Strength",
      "description": "Get to 100HP Aztec Monks Produce At Least 20 + Win",
      "claimer": "pax_au_telamanus",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "That's Not What I Meant By “Slinging”",
      "description": "Make only slinders and win (must make at least 10)",
      "claimer": "JimmyReinor",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "The Benevolent Invader",
      "description": "Send all your sheep to your opponent and win",
      "claimer": "chp69100",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Right To Jail",
      "description": "Win with a wall enclosing you opponets base (buildings)",
      "claimer": "cadaHB",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Might of Midas",
      "description": "Every military building must be touching a gold pile + win",
      "claimer": "KickerSemden",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "No Khmercy",
      "description": "Create only ballista elephants and win",
      "claimer": "Nili_AOE",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Jeff's Strategy",
      "description": "Collect at least 1 stone from every stone pile on the map and win",
      "claimer": "Jikredible1",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "An Uneducated Populace",
      "description": "No research allowed and win",
      "claimer": "RedNeal",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "A Clean Victory",
      "description": "Have 50 genitours alive and win",
      "claimer": "Mangudied",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Fasterest Castle",
      "description": "Fet to Castle Age in Under 11 Minutes + win",
      "claimer": "Funny_liquid",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "And My Axe",
      "description": "Make only throwings axeman + win",
      "claimer": "BinnyBongBaron",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "OK Boomer",
      "description": "No clicking up to castle age until 100 villagers are alive and win",
      "claimer": "Funny_liquid",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "A Barrel of Corpions",
      "description": "Win with 50+ scourprions alive at time of victory",
      "claimer": "cadaHB",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "The Last Samuwrang",
      "description": "Win by creating only samurai, the first samurai created must survive",
      "claimer": "BinnyBongBaron",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Everythings Coming Up Millhouse!",
      "description": "Win using only folwarks as houses",
      "claimer": "RedNeal314",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Get The Point?",
      "description": "Only spears allowed + win",
      "claimer": "JimmyReinor",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "No Hitting",
      "description": "Deal 0 melee damage + win",
      "claimer": "Nesalami",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "A Real All In",
      "description": "Delete your TC in Castle age + win. No additional TCs Allowed",
      "claimer": "DopingPositivo",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Kiss Me, I'm 30 Mangonels",
      "description": "Have 30 Mangonels alive simultaneously at any point + win",
      "claimer": "JimmyReinor",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Centers of Attention",
      "description": "Win with 25 TCs alive or more at time of victory",
      "claimer": "chpstkx",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "The End of The Rainbow",
      "description": "Wall in your main gold + win",
      "claimer": "Homebrandhadouken",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Never Go Full Petard",
      "description": "Build at least 17 petards + win No other military allowed",
      "claimer": "Mangudied",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "The Woad To Bublin",
      "description": "Win with woads as the only produced military unit",
      "claimer": "JimmyReinor",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "I Draw The Line",
      "description": "Win with a completed wall that touches parrelel outsides of the map",
      "claimer": "kongen_42",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "No Touching",
      "description": "No structures are allowed to touch + win",
      "claimer": "SantaDriver",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "F** It, Make War Elephants",
      "description": "Win with war elephants as the only produced unit",
      "claimer": "Homebrandhadouken",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Build It Nice Build It Twice",
      "description": "All building must be built touching in pairs + win",
      "claimer": "MonkeyBurner",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Trappers",
      "description": "Wall at least 3 wild animals in + win",
      "claimer": "Homebrandhadouken",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "The Cautious Shepherd",
      "description": "Build a stone pen for your sheep, they all must survive in the pen + win",
      "claimer": "Shixo",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bride of Greg",
      "description": "With a male villager and a monk go forward to convert an ememy female villager and venture back to the starting monastery, all three must survive the road back + win",
      "claimer": "kongen_42",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Cantankerous Clergy",
      "description": "Win producing only warrior priest",
      "claimer": "PrideGaming96",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Inefecient Construction",
      "description": "All resource camps must be built touching the wrong resource + win",
      "claimer": "FreakinAndy",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Inclined To Build",
      "description": "Houses may only be placed on hills or elevations and win",
      "claimer": "PrideGaming96",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Chpstx Stylez",
      "description": "Win a game where you TC drop the opponent before castle age (no HP/TC bonus civs)",
      "claimer": "(HC) Neil",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Custom Renovations",
      "description": "Replace 5 enemy building with your own + win",
      "claimer": "Imperator_DX",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Wonderwall",
      "description": "Win with a completed wall around your town that includes a wonder",
      "claimer": "TheRealHigh",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Religious Generosity",
      "description": "Drop at least 3 relics within LOS of your opponent's starting TC + win",
      "claimer": "Jojo_Baum",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "An Explosive Victory",
      "description": "Win using only units that explode",
      "claimer": "BinnyBongBaron",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "A Turtle In The Desert",
      "description": "Get a kill with a turtle ship on a land map and win",
      "claimer": "kongen_42",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty A",
      "description": "Win a game without building a lumbercamp",
      "claimer": "Survivalist",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Siege The Day!",
      "description": "Win producing only siege units",
      "claimer": "Princessgadz",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Resistance Is Feudal",
      "description": "Win in feudal age on arabia",
      "claimer": "RS,Newp9772",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Living On The Edge",
      "description": "All houses must touch the outside of the map (No Huns)",
      "claimer": "EmperorAlHasan",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "One Of A Kind",
      "description": "Win producing only unique units",
      "claimer": "RS,Newp9772",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty B",
      "description": "Trade with enemy for a total of 500 gold and win",
      "claimer": "Shixo",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Nomadic Heritage",
      "description": "Delete your starting TC in dark age and win",
      "claimer": "BinnyBongBaron",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Greg The Builder",
      "description": "All buildings other that farms must be built using the same villager and win",
      "claimer": "TheRealHigh",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty C",
      "description": "Delete all starting bills and souut and win",
      "claimer": "FortuneFinder",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty D",
      "description": "Win without making military units",
      "claimer": "chpstkx",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Dark Age Tactician",
      "description": "Win in Dark age",
      "claimer": "chpstkx",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty E",
      "description": "Delete Wall on Arena and Win",
      "claimer": "Supermonkeycar3000",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty F",
      "description": "Win on Arena in Fedual Age",
      "claimer": "chpstkx",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty G",
      "description": "Build a Wonder",
      "claimer": "WeanDinchester",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty H",
      "description": "Make Xolotol Warriors and Win",
      "claimer": "FlauschFuchs",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty I",
      "description": "Build a Wall that touches both starting tcs and win",
      "claimer": "GurasTobbyBufas",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    },
    {
      "title": "Bounty J",
      "description": "Win without loom on an open map",
      "claimer": "Supermonkeycar3000",
      "prize": "$20",
      "claim_date": "",
      "notes": ""
    }
  ]

window.onload = function() {
    displayBounties(); // Directly call this to display bounties defined in JSON
};


document.getElementById('sortDropdown').addEventListener('change', function() {
    sortBounties(this.value);
    displayBounties();
});

function displayBounties() {
    const container = document.getElementById('bountyContainer');
    container.innerHTML = ''; // Clear previous content

    bounties.forEach(bounty => {
        const bountyDiv = document.createElement('div');
        bountyDiv.className = 'bounty-box';

        const titleDiv = document.createElement('div');
        titleDiv.className = 'bounty-title';
        titleDiv.innerText = bounty.title;
        bountyDiv.appendChild(titleDiv);

        const descriptionDiv = document.createElement('div');
        descriptionDiv.className = 'bounty-description';
        descriptionDiv.innerText = bounty.description;
        bountyDiv.appendChild(descriptionDiv);

        const prizeDiv = document.createElement('div');
        prizeDiv.className = 'bounty-prize';
        prizeDiv.innerText = 'Prize: ' + bounty.prize;
        bountyDiv.appendChild(prizeDiv);

        const claimerDiv = document.createElement('div');
        claimerDiv.className = 'bounty-claimer';
        claimerDiv.innerHTML = 'Claimed:<br>' + bounty.claimer;
        bountyDiv.appendChild(claimerDiv);

        container.appendChild(bountyDiv);

        // Adjust font size dynamically
        adjustFontSizeForContainer(bountyDiv, titleDiv, descriptionDiv, prizeDiv);
    });
}

function adjustFontSizeForContainer(bountyBox, title, description, prize) {
    // Set maximum font sizes
    let maxTitleFontSize = 60;
    let maxPrizeFontSize = 50;
    let maxDescriptionFontSize = 140;

    // Define a function to adjust font size based on content length and available space
    const adjustFontSize = (element, initialSize, maxHeight) => {
        let fontSize = initialSize;
        element.style.fontSize = fontSize + 'px';

        // Reduce font size if the element overflows its allotted space
        while (fontSize > 8 && (element.scrollWidth > bountyBox.clientWidth || element.scrollHeight > maxHeight)) {
            fontSize--;
            element.style.fontSize = fontSize + 'px';
        }
    };

    // Apply font size adjustments
    adjustFontSize(title, maxTitleFontSize, bountyBox.clientHeight * 0.25); // Allocate 25% of height to title
    adjustFontSize(description, maxDescriptionFontSize, bountyBox.clientHeight * 0.50); // Allocate 50% of height to description
    adjustFontSize(prize, maxPrizeFontSize, bountyBox.clientHeight * 0.25); // Allocate 25% of height to prize
}

// This function now intelligently adjusts each text component within the bounty box based on the element's content length and the proportion of the container it is allowed to occupy.



function sortBounties(criteria) {
    bounties.sort((a, b) => {
        return a[criteria].localeCompare(b[criteria]);
    });
}

document.getElementById('toggleClaimedButton').addEventListener('click', function() {
    // Get all elements with the class 'bounty-claimer'
    var claimers = document.querySelectorAll('.bounty-claimer');
    
    // Loop through all claimer elements
    claimers.forEach(function(claimer) {
        if (claimer.style.display === 'none') {
            claimer.style.display = 'block'; // Make visible if hidden
        } else {
            claimer.style.display = 'none'; // Hide if visible
        }
    });
});